<!doctype html><html lang=zh-cn dir=auto><head><meta name=generator content="Hugo 0.129.0"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Samwei12's blog</title>
<meta name=description content><meta name=author content><link rel=canonical href=http://localhost:1313/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=http://localhost:1313/index.xml><link rel=alternate type=application/json href=http://localhost:1313/index.json><link rel=alternate hreflang=zh-cn href=http://localhost:1313/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Samwei12's blog"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="http://localhost:1313/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Samwei12's blog"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Samwei12's blog","url":"http://localhost:1313/","description":"","thumbnailUrl":"http://localhost:1313/%3Clink%20/%20abs%20url%3E","sameAs":["https://github.com/samwei12"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Stay hungry, stay foolish. (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Stay hungry, stay foolish.</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/archives/ title=Archives><span>Archives</span></a></li><li><a href=http://localhost:1313/categories/ title=Categories><span>Categories</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Python模板引擎Jinja2使用简介</h2></header><div class=entry-content><p>原文链接 背景 最近在项目开发中，需要针对 Jenkins 项目进行配置，Jenkins 的 job 配置采用的是 xml，在维护配置模板的过程中就遇到了问题，因为逐步发现...</p></div><footer class=entry-footer><span title='2018-07-07 15:52:36 +0000 UTC'>2018.07.07 15:52:36</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;1739 words</footer><a class=entry-link aria-label="post link to Python模板引擎Jinja2使用简介" href=http://localhost:1313/posts/python/python%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8Ejinja2%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>如何实现ARC中weak功能？</h2></header><div class=entry-content><p>原文链接
我们都知道ARC中weak与assign或者说unsafe_unretained最大的不同就是设置weak属性后，系统会在对象被释放后自动将指向对象的指针置为nil，而assign则会产生一个悬空指针，那么系统是如何实现这一机制呢？我们能否自己模拟系统对weak的实现呢？
...</p></div><footer class=entry-footer><span title='2016-03-09 11:27:09 +0000 UTC'>2016.03.09 11:27:09</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;1921 words</footer><a class=entry-link aria-label="post link to 如何实现ARC中weak功能？" href=http://localhost:1313/posts/objective-c/%E5%A6%82%E4%BD%95%E6%A8%A1%E6%8B%9Fruntime%E4%B8%ADweak%E7%9A%84%E5%AE%9E%E7%8E%B0/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>NSView subview blocking drag/drop event</h2></header><div class=entry-content><p>原文链接
近期在Mac项目中有一个处理鼠标拖拽事件的需求, 大致处理流程是这样的:
从 NSView 继承得到一个子类 覆盖处理拖拽事件相关方法 注册拖拽事件 ...</p></div><footer class=entry-footer><span title='2016-01-26 13:41:57 +0000 UTC'>2016.01.26 13:41:57</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;642 words</footer><a class=entry-link aria-label="post link to NSView subview blocking drag/drop event" href=http://localhost:1313/posts/objective-c/subview-blocking-drag-event/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Mac下如何自动备份目录到七牛云?</h2></header><div class=entry-content><p>原文链接
七牛云是个很好用的图床,但是 Mac 下并没有什么很好用的客户端,每次上传都需要在网页上手动一个个传文件,十分麻烦,于是仔细看了下七牛云的部分文档,打算使用QRSBox来自动上传图片.
...</p></div><footer class=entry-footer><span title='2016-01-19 22:54:58 +0000 UTC'>2016.01.19 22:54:58</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;953 words</footer><a class=entry-link aria-label="post link to Mac下如何自动备份目录到七牛云?" href=http://localhost:1313/posts/utilities/mac/mac%E4%B8%8B%E5%A6%82%E4%BD%95%E8%87%AA%E5%8A%A8%E5%A4%87%E4%BB%BD%E7%9B%AE%E5%BD%95%E5%88%B0%E4%B8%83%E7%89%9B%E4%BA%91/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>如何实现 UITabbarController 的 State Preservation?</h2></header><div class=entry-content><p>原文链接
最近在看ios programming - the big nerd ranch guide 这本书,其中第24章介绍了如何使用系统接口来实现 State Restoration. 示例部分介绍的是如何针对 UINavigationController 来进行保存和还原状态, 然后额外的练习题部分是 UITabbarController 的状态保存和恢复,可是在这里却一直遇到问题， 导致程序返回时UITabbarController始终无法还原状态，本文记录下如何使用State Restoration和UITabbarController所需的额外处理。
...</p></div><footer class=entry-footer><span title='2016-01-19 21:58:07 +0000 UTC'>2016.01.19 21:58:07</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;2343 words</footer><a class=entry-link aria-label="post link to 如何实现 UITabbarController 的 State Preservation?" href=http://localhost:1313/posts/objective-c/uitabbarcontroller-state-preservation/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>AVCaptureSession部分用法</h2></header><div class=entry-content><p>原文链接
AVCaptureSession阻塞主线程问题 前阵子程序中出现了一个奇怪的 bug，在 iOS 系统上，页面弹出的时候会卡很久，相机始终黑屏，大概6-7秒钟，跟踪具体每个步骤花费时间的时候发现在viewWillDisappear:中开销最大，这其中只调用了一个相机关闭的代码：
if ([[self.avCameraManager session] isRunning]) { [[self.avCameraManager session] stopRunning]; } 仔细看了文档之后，发现问题出在 stopRunning这里，
...</p></div><footer class=entry-footer><span title='2015-09-21 13:58:46 +0000 UTC'>2015.09.21 13:58:46</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;1261 words</footer><a class=entry-link aria-label="post link to AVCaptureSession部分用法" href=http://localhost:1313/posts/objective-c/avcapturesession%E9%83%A8%E5%88%86%E7%94%A8%E6%B3%95/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>如何取消 UIView 动画？</h2></header><div class=entry-content><p>原文链接
最近项目中有一个需求是需要手动点击相机对焦，这里由于相机对焦部分需要一个类似于系统对焦框一样的缩放动画，同时动画时长为0.3秒，因此这里就有一个很普遍的需求，如果用户在0.3秒内继续点击对焦会怎么样？
动画部分代码很简单，如下：
self.transform = CGAffineTransformMakeScale(2.0f, 2.0f); [UIView animateWithDuration:0.3f delay:0.0f options:UIViewAnimationOptionCurveLinear animations:^{ self.transform = CGAffineTransformIdentity; } completion:^(BOOL finished){ if (finished) { [self hideFocus]; } }]; 对焦框在0.3秒内进行两倍缩小到正常尺寸的一个动画，之后隐藏。
...</p></div><footer class=entry-footer><span title='2015-09-09 14:28:02 +0000 UTC'>2015.09.09 14:28:02</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;852 words</footer><a class=entry-link aria-label="post link to 如何取消 UIView 动画？" href=http://localhost:1313/posts/objective-c/%E5%A6%82%E4%BD%95%E5%8F%96%E6%B6%88uiview%E5%8A%A8%E7%94%BB/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>跨平台书签同步:Xmarks</h2></header><div class=entry-content><p>原文链接
Xmarks简介 Xmarks 是一款浏览器书签同步工具，它可以实现不同设备，不同浏览器之间的书签同步，并且是免费的。
有人会说，我们为什么需要一款专门的书签同步工具呢？Safari 自带的 iCloud 书签同步，Chrome 自带的同步设置不都是挺好用的吗？ 我个人选择 Xmarks 的原因是，经常需要在 Mac 机器和 Windows 机器之间进行切换，Safari 当然是挺好用的，但是 Windows 下没得用，切换到 Windows 机器只能选择使用 Chrome 或者 Firefox， 就存在书签同步的需求了。当然你也可以说每个平台都是用 Firefox 或者 Chrome 即可，但就我个人而言，这两款浏览器在 Mac 下的便捷性目前看来还是比不上 Safari 的。
...</p></div><footer class=entry-footer><span title='2015-09-07 19:04:08 +0000 UTC'>2015.09.07 19:04:08</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;965 words</footer><a class=entry-link aria-label="post link to 跨平台书签同步:Xmarks" href=http://localhost:1313/posts/utilities/%E8%B7%A8%E5%B9%B3%E5%8F%B0%E4%B9%A6%E7%AD%BE%E5%90%8C%E6%AD%A5-xmarks/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>如何使用 Hexo 搭建个人博客</h2></header><div class=entry-content><p>原文链接
什么是 Hexo ？ Hexo 是一个简单快速的静态博客框架，可以通过编辑 Markdown 文档生成好看的静态博客。
搭建 Hexo 要求 安装 Hexo 十分简单，只需要 Node.js 和 Git 即可。
Node.js Git ...</p></div><footer class=entry-footer><span title='2015-09-01 17:49:16 +0000 UTC'>2015.09.01 17:49:16</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;1758 words</footer><a class=entry-link aria-label="post link to 如何使用 Hexo 搭建个人博客" href=http://localhost:1313/posts/utilities/writing/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-hexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=http://localhost:1313/page/2/>«&nbsp;&nbsp;</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>Samwei12's blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>